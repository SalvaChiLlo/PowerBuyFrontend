<div class="container-fluid">
  <div class="row d-flex justify-content-center align-items-center">
    <div class="col-xl-4 col-lg-5 col-md-6 col">
      <form>
        <div class="row">
          <div class="col">
            <h1 class="fw-bold mb-0">Crear Cuenta</h1>
            <p><small class="text-muted">Bienvenido a PowerBuy</small></p>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="alert alert-danger" role="alert" *ngIf="error">
              El correo o la contraseña son incorrectos.
            </div>
          </div>
        </div>
        <div class="row my-3">
          <div class="col login-inputs">
            <input required type="text" name="email" id="email" [(ngModel)]="email">
            <span [class.active]='email.length'>Email</span>
          </div>
        </div>
        <div class="row">
          <div class="col login-inputs">
            <input required type="text" name="username" id="username" [(ngModel)]="username">
            <span [class.active]='username.length'>Nombre de usuario</span>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col login-inputs">
            <input [type]="show ? 'text ': 'password'" name="password" id="password" [(ngModel)]="password">
            <span [class.active]='password.length'>Password</span>
            <mat-icon class="btn" (click)="show = !show">visibility</mat-icon>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col user-image">
            <span class="active mb-2 d-block">Foto de Perfil</span>
            <div class="user-image-content">
              <app-profile-picture-viewer [image]="imagePreview || defaultImage" [rounded]="true" [width]="100"
                [height]="100">
              </app-profile-picture-viewer>
              <input type="file" name="image" id="image" accept="image/*" (change)="processImage($event)">
              <label for="image" class="btn btn-primary">Seleccionar imagen</label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col d-flex flex-column justify-content-center align-items-center">
            <input *ngIf="!loading" type="submit" (click)="signup($event)" required class="btn btn-primary w-100 submit"
              value="Crear Cuenta">
            <app-spinner *ngIf="loading" [size]="40"></app-spinner>
            <p class="mt-3">O si lo prefieres, <a routerLink="/signin">Inicia Sesión!</a></p>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
